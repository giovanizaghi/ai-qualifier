#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "🔧 Running pre-commit quality checks..."

# Run linting and formatting (allow to continue if these pass)
npm run lint:fix && npm run format

# Run tests (but don't fail if tests are skipped)
npm run test -- --run || echo "⚠️ Tests failed or were skipped"

# Type check (but don't fail the commit during transition)
echo "🔍 Running type check..."
npm run type-check || echo "⚠️ Type errors found - see docs/TypeScript-Migration-Plan.md"

echo "✅ Pre-commit checks completed"
